{"blockStates":[{"name":"Step","uid":"Worker Block #16fc588d284","x":273,"y":77,"width":84,"height":60,"outputType":"Natural Number","interval":50,"repeatTimes":1000},{"name":"Run","uid":"Switch #16fc5891bdc","x":272,"y":3,"width":81,"height":64,"checked":false},{"name":"Spherical Elastic Pendulum","uid":"Sticker #16fcabe55ff","x":2,"y":3,"width":260,"height":544,"marginX":15,"marginY":15,"userText":"This page shows the visual code for \nmodeling the motion of a spherical \nelastic pendulum with air drag: \n\nu'=v²sinθcosθ-gsinθ/(L+d)-ru/m\nv'=-2uvcotθ-rv/m\nd'=gcosθ+(L+d)(v²sinθ+u²)-(kd+rw)/m\nu=θ'\nv=φ'\nw=d'\n\nwhere t is time, θ is the polar angle, \nφ is the azimuthal angle, u is the polar \nangular speed, v is the azimuthal angular\nspeed, L is the equilibrium length of the\nspring, d is the displacement of the weight\nfrom the equilibrium position, k is the force\nconstant of the spring, m is the mass, r is \nthe air drag coefficient, and g is the \ngravitational acceleration.\n\nThe x, y, and z coordinates of the \nweight of the pendulum can be \nwritten as:\n\nx=x₀+Lsinθcosφ\ny=y₀+Lsinθsinφ\nz=z₀-Lcosθ\n\nwhere x₀, y₀, and z₀ are the coordinates\nof the pivot of the pendulum.","decimals":3,"color":"#808080","textColor":"#ffffff","useHtml":false},{"name":"Action","uid":"Action Block #1700cc0c103","x":273,"y":143,"width":80,"height":60,"type":"Reset","symbol":"Reset"},{"name":"h","uid":"Slider #1701055e6ea","x":275,"y":208,"width":80,"height":60,"minimum":0.01,"maximum":0.05,"steps":8,"value":0.025,"source":false,"snapToTick":true,"valuePrecision":2},{"name":"Global Variable Block","key":"L","value":4,"initialValue":"2","showValue":false,"uid":"Global Variable Block #17012ad95c9","x":367,"y":303,"width":67,"height":60},{"name":"Global Variable Block","key":"g","value":"9.8","initialValue":"9.8","showValue":false,"uid":"Global Variable Block #1701b48b947","x":365,"y":225,"width":67,"height":60},{"name":"Global Object Block","symbol":"b(t)","keys":["t","b"],"values":[0,0.09976821898667013],"initialValues":[0,0],"uid":"Global Object Block #170253e3e27","x":916,"y":88,"width":60,"height":75,"marginX":15},{"name":"Global Object Block","symbol":"a(t)","keys":["t","a"],"values":[0,-0.5009508208810816],"initialValues":[0,-0.5],"uid":"Global Object Block #170253e985f","x":913,"y":4,"width":60,"height":75,"marginX":15},{"name":"Global Object Block","symbol":"(x,y,z)","keys":["x","y","z"],"values":[-1.9117693197152603,-0.19136918553946053,-1.5090249510016105],"initialValues":[0.5,0.5,0],"uid":"Global Object Block #17058be946a","x":686,"y":240,"width":60,"height":90,"marginX":15},{"uid":"Bundled Functions Block #17058bfa59d","inputName":"i","expressions":["x0+(L+d)*sin(a)*cos(b)","y0+(L+d)*sin(a)*sin(b)","z0-(L+d)*cos(a)"],"updateImmediately":true,"x":450,"y":216,"width":214,"height":132},{"name":"Global Object Block","symbol":"Pivot","keys":["x0","y0","z0"],"values":[0,0,2],"initialValues":[0,0,2],"uid":"Global Object Block #17058c43b06","x":943,"y":266,"width":60,"height":90,"marginX":20},{"uid":"Bundled Functions Block #17058c9bd9b","inputName":"i","expressions":["x0","y0","z0"],"updateImmediately":true,"x":847,"y":260,"width":74,"height":102},{"uid":"ODE Solver Block #171386fab05","variableName":"t","equations":["u'=v*v*sin(a)*cos(a)-g*sin(a)/(L+d)-r*u/m","v'=-2*u*v*cot(a)-r*v/m","w'=g*cos(a)-(k*d+r*w)/m+(L+d)*(v*v*sin(a)+u*u)","a'=u","b'=v","d'=w"],"method":"RK4","x":387,"y":4,"width":420,"height":196},{"name":"Global Variable Block","key":"r","value":0,"initialValue":"0.1","showValue":false,"uid":"Global Variable Block #17138738539","x":368,"y":371,"width":67,"height":60},{"name":"Bob","uid":"Sticker #17138b27782","x":759,"y":241,"width":63,"height":87,"marginX":15,"marginY":15,"text":"-1.912,-0.191,-1.509","decimals":3,"color":"#fff86b","textColor":"#000000","useHtml":false},{"name":"Global Object Block","symbol":"u(t)","keys":["t","u"],"values":[0,-0.02532410024237794],"initialValues":[0,0],"uid":"Global Object Block #17138b3b013","x":839,"y":7,"width":60,"height":75,"marginX":15},{"legends":["A","B"],"lineTypes":["Solid","Solid"],"lineColors":["black","#ff0080"],"lineWidths":[1,1],"dataSymbols":["None","None"],"dataSymbolRadii":[0.2,0.2],"dataSymbolColors":["#408080","#008000"],"dataSymbolSpacings":[1,1],"endSymbolRadii":[0.1,0.2],"name":"Trajectory","uid":"Space3D #17138b54b76","x":1021,"y":6,"width":498,"height":485,"xAxisLabel":"x","yAxisLabel":"y","zAxisLabel":"z","boxSize":8,"spaceWindowColor":"white","endSymbolsConnection":"Rod","pointInput":true,"numberOfPoints":2,"cameraPositionX":2.679117149752375e-7,"cameraPositionY":-18.50617806220763,"cameraPositionZ":0.00001850423870260453,"cameraRotationX":1.5707953268996913,"cameraRotationY":1.447687978176071e-8,"cameraRotationZ":-0.014477385500408895},{"name":"L","uid":"Slider #1713b23a524","x":273,"y":276,"width":80,"height":60,"minimum":1,"maximum":5,"steps":4,"value":4,"source":false,"snapToTick":true,"valuePrecision":2},{"name":"r","uid":"Slider #1713b254fbd","x":272,"y":343,"width":80,"height":60,"minimum":0,"maximum":1,"steps":20,"value":0,"source":false,"snapToTick":true,"valuePrecision":2},{"legends":["u","v","w"],"lineTypes":["Solid","Solid","Solid"],"lineColors":["#ff0000","#8000ff","black"],"lineThicknesses":[1,1,1],"dataSymbols":["None","None","None"],"dataSymbolRadii":[3,3,3],"dataSymbolColors":["white","white","white"],"dataSymbolSpacings":[1,1,1],"endSymbolRadii":[0,0,0],"endSymbolRotatables":[false,false,false],"name":"Velocities","uid":"Space2D #1713b2b02b8","x":457,"y":368,"width":475,"height":240,"xAxisLabel":"t","yAxisLabel":"","spaceWindowColor":"white","showGridLines":false,"endSymbolsConnection":"None","autoscale":true,"minimumXValue":0,"maximumXValue":1,"minimumYValue":0,"maximumYValue":1,"pointInput":true,"numberOfPoints":3,"fillOptions":[false,false,false],"fillColors":["lightgray","lightgray","lightgray"]},{"name":"Global Object Block","symbol":"v(t)","keys":["t","v"],"values":[0,1.9930537253897236],"initialValues":[0,2],"uid":"Global Object Block #17141def16e","x":840,"y":88,"width":60,"height":75,"marginX":15},{"name":"Global Object Block","symbol":"d(t)","keys":["t","d"],"values":[0,0.0017959710492606023],"initialValues":[0,0],"uid":"Global Object Block #171471cf4de","x":917,"y":171,"width":60,"height":75,"marginX":15},{"name":"Global Object Block","symbol":"w(t)","keys":["t","w"],"values":[0,0.048139578490369844],"initialValues":[0,0],"uid":"Global Object Block #17147257741","x":839,"y":172,"width":60,"height":75,"marginX":15},{"name":"k","uid":"Slider #17147273be7","x":269,"y":413,"width":80,"height":60,"minimum":1,"maximum":100,"steps":99,"value":1,"source":false,"snapToTick":true,"valuePrecision":3},{"name":"Global Variable Block","key":"k","value":1,"initialValue":"10","showValue":false,"uid":"Global Variable Block #1714727500d","x":369,"y":438,"width":67,"height":60},{"name":"m","uid":"Slider #1714727e011","x":269,"y":487,"width":80,"height":60,"minimum":1,"maximum":5,"steps":4,"value":1,"source":false,"snapToTick":true,"valuePrecision":2},{"name":"Global Variable Block","key":"m","value":1,"initialValue":"1","showValue":false,"uid":"Global Variable Block #17147281000","x":369,"y":508,"width":67,"height":60}],"connectorStates":[{"inputPortId":"I","outputPortId":"O","inputBlockId":"Worker Block #16fc588d284","outputBlockId":"Switch #16fc5891bdc"},{"inputPortId":"R","outputPortId":"O","inputBlockId":"Worker Block #16fc588d284","outputBlockId":"Action Block #1700cc0c103"},{"inputPortId":"H","outputPortId":"O","inputBlockId":"ODE Solver Block #171386fab05","outputBlockId":"Slider #1701055e6ea"},{"inputPortId":"N","outputPortId":"O","inputBlockId":"ODE Solver Block #171386fab05","outputBlockId":"Worker Block #16fc588d284"},{"inputPortId":"I","outputPortId":"T","inputBlockId":"Bundled Functions Block #17058c9bd9b","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"x0","outputPortId":"A","inputBlockId":"Global Object Block #17058c43b06","outputBlockId":"Bundled Functions Block #17058c9bd9b"},{"inputPortId":"y0","outputPortId":"B","inputBlockId":"Global Object Block #17058c43b06","outputBlockId":"Bundled Functions Block #17058c9bd9b"},{"inputPortId":"z0","outputPortId":"C","inputBlockId":"Global Object Block #17058c43b06","outputBlockId":"Bundled Functions Block #17058c9bd9b"},{"inputPortId":"t","outputPortId":"T","inputBlockId":"Global Object Block #170253e985f","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"t","outputPortId":"T","inputBlockId":"Global Object Block #170253e3e27","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"I","outputPortId":"T","inputBlockId":"Bundled Functions Block #17058bfa59d","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"x","outputPortId":"A","inputBlockId":"Global Object Block #17058be946a","outputBlockId":"Bundled Functions Block #17058bfa59d"},{"inputPortId":"y","outputPortId":"B","inputBlockId":"Global Object Block #17058be946a","outputBlockId":"Bundled Functions Block #17058bfa59d"},{"inputPortId":"z","outputPortId":"C","inputBlockId":"Global Object Block #17058be946a","outputBlockId":"Bundled Functions Block #17058bfa59d"},{"inputPortId":"I","outputPortId":"O","inputBlockId":"Sticker #17138b27782","outputBlockId":"Global Object Block #17058be946a"},{"inputPortId":"t","outputPortId":"T","inputBlockId":"Global Object Block #17138b3b013","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"B","outputPortId":"O","inputBlockId":"Space3D #17138b54b76","outputBlockId":"Global Object Block #17058be946a"},{"inputPortId":"A","outputPortId":"O","inputBlockId":"Space3D #17138b54b76","outputBlockId":"Global Object Block #17058c43b06"},{"inputPortId":"X","outputPortId":"O","inputBlockId":"Global Variable Block #17012ad95c9","outputBlockId":"Slider #1713b23a524"},{"inputPortId":"X","outputPortId":"O","inputBlockId":"Global Variable Block #17138738539","outputBlockId":"Slider #1713b254fbd"},{"inputPortId":"A","outputPortId":"O","inputBlockId":"Space2D #1713b2b02b8","outputBlockId":"Global Object Block #17138b3b013"},{"inputPortId":"t","outputPortId":"T","inputBlockId":"Global Object Block #17141def16e","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"B","outputPortId":"O","inputBlockId":"Space2D #1713b2b02b8","outputBlockId":"Global Object Block #17141def16e"},{"inputPortId":"t","outputPortId":"T","inputBlockId":"Global Object Block #171471cf4de","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"t","outputPortId":"T","inputBlockId":"Global Object Block #17147257741","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"X","outputPortId":"O","inputBlockId":"Global Variable Block #1714727500d","outputBlockId":"Slider #17147273be7"},{"inputPortId":"X","outputPortId":"O","inputBlockId":"Global Variable Block #17147281000","outputBlockId":"Slider #1714727e011"},{"inputPortId":"u","outputPortId":"A","inputBlockId":"Global Object Block #17138b3b013","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"v","outputPortId":"B","inputBlockId":"Global Object Block #17141def16e","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"w","outputPortId":"C","inputBlockId":"Global Object Block #17147257741","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"a","outputPortId":"D","inputBlockId":"Global Object Block #170253e985f","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"b","outputPortId":"E","inputBlockId":"Global Object Block #170253e3e27","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"d","outputPortId":"F","inputBlockId":"Global Object Block #171471cf4de","outputBlockId":"ODE Solver Block #171386fab05"},{"inputPortId":"C","outputPortId":"O","inputBlockId":"Space2D #1713b2b02b8","outputBlockId":"Global Object Block #17147257741"}],"mcuStates":[],"hatStates":[],"attachmentStates":[],"blockViewState":{"backgroundColor":"rgb(212, 208, 200)","blockStyle":"Shade"}}